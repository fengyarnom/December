{"version":3,"file":"static/js/571.d4ef06d3.chunk.js","mappings":"iPAQqBA,EAAAA,SAAAA,IAAAA,EAAAA,EAAAA,GAAAA,EAAAA,GAAAA,IAAAA,GAAAA,EAAAA,EAAAA,GAAAA,GACjB,WAAYC,GAAO,IAAD,yBACd,cAAMA,IACDC,MAAM,CACPC,UAAU,EACVC,WAAW,EACXC,SAAS,GALC,CAOjB,CA0GA,OA1GA,yCACD,WAAqB,IAAD,OACVC,EAAO,CACTC,WAAWC,KAAKC,UAAU,eAEJ,KAAvBH,EAAI,WACHI,IAAAA,KAAW,iBAAkB,CAAEJ,KAAAA,IAC9BK,MAAK,SAAAC,GACuB,WAAtBA,EAAIN,KAAJ,QAC0B,IAAtBM,EAAIN,KAAJ,OAICO,OAAOC,SAASC,QAAQ,UAInC,IAEDF,OAAOC,SAASC,QAAQ,UAG5BL,IAAAA,IAAU,2BACTC,MAAK,SAAAC,GAEqB,KAApBA,EAAIN,KAAJ,MACC,EAAKU,SAAS,CACVb,UAAUS,EAAIN,KAAJ,MAGrB,IAEDI,IAAAA,IAAU,4BACTC,MAAK,SAAAC,GAEqB,KAApBA,EAAIN,KAAJ,MACC,EAAKU,SAAS,CACVZ,WAAWQ,EAAIN,KAAJ,MAGtB,IAEDI,IAAAA,IAAU,iDACTC,MAAK,SAAAC,GACqB,KAApBA,EAAIN,KAAJ,MACC,EAAKU,SAAS,CACVX,SAASO,EAAIN,KAAJ,MAGpB,GAEJ,0BAED,SAAUW,GAIN,IAFA,IAAIC,EAAOD,EAAQ,IACfE,EAAKC,SAASC,OAAOC,MAAM,KACvBC,EAAE,EAAGA,EAAEJ,EAAGK,OAAQD,IAC1B,CACI,IAAIE,EAAIN,EAAGI,GAAGG,OACd,GAAsB,IAAlBD,EAAEE,QAAQT,GAAW,OAAOO,EAAEG,UAAUV,EAAKM,OAAOC,EAAED,OAC7D,CACD,MAAO,EACV,uBAGD,WACI,OACI,iBAAKK,UAAU,YAAf,WACI,gBAAKA,UAAU,SAAf,iCACA,iBAAKA,UAAU,OAAf,WACI,iBAAKA,UAAU,WAAf,WACI,gBAAKA,UAAU,SAAf,UACI,gBAAKA,UAAU,QAAf,UAAuB,8CAE3B,iBAAKA,UAAU,UAAf,WACI,UAAC,KAAD,CAAMA,UAAU,OAAOC,GAAG,SAA1B,WACI,gBAAKD,UAAU,SAAf,2BACA,gBAAKA,UAAU,SAAf,SAAyBrB,KAAKN,MAAMC,aACpC,gBAAK0B,UAAU,OAAf,wBAEJ,UAAC,KAAD,CAAMA,UAAU,OAAOC,GAAG,eAA1B,WACI,gBAAKD,UAAU,SAAf,2BACA,gBAAKA,UAAU,SAAf,SAAyBrB,KAAKN,MAAME,cACpC,gBAAKyB,UAAU,OAAf,wBAEJ,UAAC,KAAD,CAAMA,UAAU,OAAOC,GAAG,gBAA1B,WACI,gBAAKD,UAAU,SAAf,2BACA,gBAAKA,UAAU,SAAf,SAAyBrB,KAAKN,MAAMG,YACpC,gBAAKwB,UAAU,OAAf,8BAQZ,SAAC,KAAD,SASf,OAlHgB7B,CAAkB+B,EAAAA,U","sources":["views/AdminView/AdminView.js"],"sourcesContent":["import { Component } from \"react\";\nimport * as React from 'react';\nimport { Link, Outlet } from \"react-router-dom\";\n\nimport axios from \"axios\";\n\nimport './AdminView.scss'\n\nexport default class AdminView extends Component{\n    constructor(props){\n        super(props);\n        this.state={\n            postCount:0,\n            dailyCount:0,\n            tagCount:0\n        }\n    }\n    componentDidMount() {\n        const data = {\n            authorized:this.getCookie('authorized')\n        }\n        if(data['authorized'] !== \"\"){\n            axios.post('/api/authorize', { data })\n            .then(res => {\n                if(res.data['class'] === 'status'){\n                    if(res.data['value'] === 1){\n                              \n                    }\n                    else{\n                        window.location.replace(\"/login\");\n                    }\n                    \n                }\n            })\n        }else{\n            window.location.replace(\"/login\");\n        }\n\n        axios.get('/api/getTableCount/POST')\n        .then(res => {\n           \n            if(res.data['code'] == 200){\n                this.setState({\n                    postCount:res.data['data']\n                })\n            }\n        })\n\n        axios.get('/api/getTableCount/DAILY')\n        .then(res => {\n            \n            if(res.data['code'] == 200){\n                this.setState({\n                    dailyCount:res.data['data']\n                })\n            }\n        })\n\n        axios.get('/api/getTableCount/Notice?condition=visible=1')\n        .then(res => {\n            if(res.data['code'] == 200){\n                this.setState({\n                    tagCount:res.data['data']\n                })\n            }\n        })\n        \n    }\n\n    getCookie(cname)\n    {\n        var name = cname + \"=\";\n        var ca = document.cookie.split(';');\n        for(var i=0; i<ca.length; i++) \n        {\n            var c = ca[i].trim();\n            if (c.indexOf(name)===0) return c.substring(name.length,c.length);\n        }\n        return \"\"\n    }\n\n\n    render(){\n        return(\n            <div className=\"AdminView\">\n                <div className=\"header\">仪表板</div>\n                <div className=\"main\">\n                    <div className=\"overview\">\n                        <div className=\"header\">\n                            <div className=\"title\"><h3>概述</h3></div>\n                        </div>\n                        <div className=\"content\">\n                            <Link className=\"item\" to=\"/admin\">\n                                <div className=\"header\">文章</div>\n                                <div className=\"number\">{this.state.postCount}</div>\n                                <div className=\"unit\">篇</div>\n                            </Link>\n                            <Link className=\"item\" to=\"/admin/daily\">\n                                <div className=\"header\">日记</div>\n                                <div className=\"number\">{this.state.dailyCount}</div>\n                                <div className=\"unit\">段</div>\n                            </Link>\n                            <Link className=\"item\" to=\"/admin/notice\">\n                                <div className=\"header\">通告</div>\n                                <div className=\"number\">{this.state.tagCount}</div>\n                                <div className=\"unit\">篇</div>\n                            </Link>\n                        </div>\n                        \n                        \n                    </div>\n                    \n                    \n                    <Outlet />\n                    \n                </div>\n\n            </div>\n            \n                \n\n        )\n    }\n\n}\n\n"],"names":["AdminView","props","state","postCount","dailyCount","tagCount","data","authorized","this","getCookie","axios","then","res","window","location","replace","setState","cname","name","ca","document","cookie","split","i","length","c","trim","indexOf","substring","className","to","Component"],"sourceRoot":""}