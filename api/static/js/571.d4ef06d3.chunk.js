"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[571],{1571:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var i=a(5671),n=a(3144),s=a(136),d=a(7277),c=a(2791),l=a(1087),o=a(7689),r=a(4569),u=a.n(r),h=a(184),m=function(e){(0,s.Z)(a,e);var t=(0,d.Z)(a);function a(e){var n;return(0,i.Z)(this,a),(n=t.call(this,e)).state={postCount:0,dailyCount:0,tagCount:0},n}return(0,n.Z)(a,[{key:"componentDidMount",value:function(){var e=this,t={authorized:this.getCookie("authorized")};""!==t.authorized?u().post("/api/authorize",{data:t}).then((function(e){"status"===e.data.class&&(1===e.data.value||window.location.replace("/login"))})):window.location.replace("/login"),u().get("/api/getTableCount/POST").then((function(t){200==t.data.code&&e.setState({postCount:t.data.data})})),u().get("/api/getTableCount/DAILY").then((function(t){200==t.data.code&&e.setState({dailyCount:t.data.data})})),u().get("/api/getTableCount/Notice?condition=visible=1").then((function(t){200==t.data.code&&e.setState({tagCount:t.data.data})}))}},{key:"getCookie",value:function(e){for(var t=e+"=",a=document.cookie.split(";"),i=0;i<a.length;i++){var n=a[i].trim();if(0===n.indexOf(t))return n.substring(t.length,n.length)}return""}},{key:"render",value:function(){return(0,h.jsxs)("div",{className:"AdminView",children:[(0,h.jsx)("div",{className:"header",children:"\u4eea\u8868\u677f"}),(0,h.jsxs)("div",{className:"main",children:[(0,h.jsxs)("div",{className:"overview",children:[(0,h.jsx)("div",{className:"header",children:(0,h.jsx)("div",{className:"title",children:(0,h.jsx)("h3",{children:"\u6982\u8ff0"})})}),(0,h.jsxs)("div",{className:"content",children:[(0,h.jsxs)(l.rU,{className:"item",to:"/admin",children:[(0,h.jsx)("div",{className:"header",children:"\u6587\u7ae0"}),(0,h.jsx)("div",{className:"number",children:this.state.postCount}),(0,h.jsx)("div",{className:"unit",children:"\u7bc7"})]}),(0,h.jsxs)(l.rU,{className:"item",to:"/admin/daily",children:[(0,h.jsx)("div",{className:"header",children:"\u65e5\u8bb0"}),(0,h.jsx)("div",{className:"number",children:this.state.dailyCount}),(0,h.jsx)("div",{className:"unit",children:"\u6bb5"})]}),(0,h.jsxs)(l.rU,{className:"item",to:"/admin/notice",children:[(0,h.jsx)("div",{className:"header",children:"\u901a\u544a"}),(0,h.jsx)("div",{className:"number",children:this.state.tagCount}),(0,h.jsx)("div",{className:"unit",children:"\u7bc7"})]})]})]}),(0,h.jsx)(o.j3,{})]})]})}}]),a}(c.Component)}}]);
//# sourceMappingURL=571.d4ef06d3.chunk.js.map