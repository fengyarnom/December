"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[205],{5205:function(t,e,a){a.r(e),a.d(e,{default:function(){return p}});var s=a(5671),n=a(3144),i=a(136),r=a(7277),c=a(2791),d=a(1087),o=a(6147),l=a(4569),h=a.n(l),u=a(184),p=function(t){(0,i.Z)(a,t);var e=(0,r.Z)(a);function a(t){var n;return(0,s.Z)(this,a),(n=e.call(this,t)).handlePageChange=function(t,e){n.setState({page:e});var a=5*(e-1),s=window.location.search.substring(1);h().get("/api/seleteTable?class=POST&order_by=pid&desc=desc&limit=5&offset="+a+"&"+s).then((function(t){n.setState({postArr:t.data.data})}))},n.state={page:1,postCount:0,postArr:[]},n}return(0,n.Z)(a,[{key:"componentDidMount",value:function(){var t=this,e=window.location.search.substring(1);h().get("/api/seleteTable?class=POST&order_by=pid&desc=desc&limit=5&"+e).then((function(e){t.setState({postArr:e.data.data})})),h().get("/api/getTableCount/POST?"+e).then((function(e){200==e.data.code&&t.setState({postCount:Math.ceil(e.data.data/5)})}))}},{key:"render",value:function(){return(0,u.jsxs)("div",{className:"archive",children:[(0,u.jsx)("div",{className:"header",children:(0,u.jsx)("span",{children:"\ud83d\udce6 \u5f52\u6863\xa0\xa0"})}),this.state.postArr.map((function(t,e){return(0,u.jsxs)("div",{className:"item",children:[(0,u.jsx)("div",{className:"title",children:(0,u.jsx)(d.rU,{to:"/post?pid="+t.pid,children:t.title})}),(0,u.jsx)("div",{className:"date",children:t.create_date})]},e)})),(0,u.jsx)(o.Z,{count:this.state.postCount,page:this.state.page,onChange:this.handlePageChange.bind(this)})]})}}]),a}(c.Component)}}]);
//# sourceMappingURL=205.98b307a5.chunk.js.map